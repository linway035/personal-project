<div style="height: 1200px; width: 427px">
  <div class="popular-container">
    <div class="popular-title">
      <h4>Who to follow</h4>
    </div>
    <div class="tweets-mid" style="height: 656px; width: 273px">
      <ul class="popular-list-group" style="display: inline"></ul>
    </div>
  </div>
</div>

<script>
  fetch('http://localhost:3000/tweets/follows')
    .then(response => response.json())
    .then(data => {
      data.forEach(user => {
        const listItem = document.createElement('li')
        listItem.className =
          'list-group-item d-flex justify-content-between align-items-start'

        listItem.innerHTML = `
                  <div class="user-icon">
                    <a href="/users/${user.id}/profile">
                      <img src="${user.avatar}" style="height: 50px;width:50px; border-radius:50%">
                    </a>
                  </div>
                  <div class="ms-2 me-auto">
                    <a href="/users/${user.id}/profile">
                      <div class="popular-name" style="text-overflow:ellipsis; overflow:hidden; width:4.5rem">
                        ${user.name}
                      </div>
                    </a>
                  </div>
                  <form action="/followships" method="POST" style="display: contents;">
                    <input type="text" name="id" value="${user.id}" style="display: none;">
                    <button type="submit" class="follow-btn">跟隨</button>
                  </form>
                `

        document.querySelector('.popular-list-group').appendChild(listItem)
      })
    })
    .catch(error => {
      console.log(error)
    })
</script>
